<h3 class="text-center">Namas - Test Code</h3>

<hr />

<%= form_with url: namas_path, method: :post do |f| %>
  <div style="display: flex; justify-content: space-around">
    <%= f.file_field :data_file %>
    <%= f.submit 'Upload TXT', class: 'btn btn-secondary btn-sm' %>
  </div>
<% end %>

<hr />

<table class="table table-hover">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Buyer</th>
      <th scope="col">Provider</th>
      <th scope="col">Description</th>
      <th scope="col">Price</th>
      <th scope="col">Quantity</th>
      <th scope="col">Address</th>
    </tr>
  </thead>
  <tbody>
    <% @namas.each do |nama| %>
      <tr>
        <th scope="row"><%= nama.id %></th>
        <td scope="row"><%= nama.buyer %></td>
        <td scope="row"><%= nama.provider %></td>
        <td scope="row"><%= nama.description %></td>
        <td scope="row"><%= nama.price %></td>
        <td scope="row"><%= nama.quantity %></td>
        <td scope="row"><%= nama.address %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<div style="display: flex; justify-content: flex-end"><%= paginate @namas %></div>

<hr />

<div class="card text-white bg-secondary mb-3 text-center container" style="width: 25rem">
  <div class="card-body">
    <h5 class="card-title">
      Gross Revenue: $<%= sprintf('%.2f', @namas.sum(:price)) %>
    </h5>
  </div>
</div>
